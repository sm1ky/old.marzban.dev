---
order: 992
label: Telegram бот
icon: paper-airplane
---
{% hint style="info" %}
Если Вы не планируете использовать встроенные telegram бот, Вы можете пропустить данный этап
{% endhint %}
Дополнительно, для взаимодействия с панелью Marzban, ее управлением и получением важных системных уведомлений, Вы можете активировать администраторский телеграм бот.
{% hint style="info" %}
Данный бот не предназначен для продажи подписок.

Если Вы хотите осуществлять коммерческую деятельность, испольуйте любое другое, стороннее решение.
{% endhint %}

## Получения бот токена
Для создания бота и получения токена, воспольуемся силами стандартного бота [BotFather](https://t.me/botfather)
![](/static/bot_botfather.jpg)
Запускаем бота, командой `/start`

Придумываем имя нашего бота и его публичный адрес содержаший в конце `bot` или `_bot`

**Например**:mytestmarzban **_bot**

![](/static/bot_create.jpg)

На выходе мы получаем сообшение, содержащее в себе токен
![](/static/bot_token.jpg)
Запишем это значение и перейдем к дальнейшей настройке.


## Получение ID(s) администратора
Так как доступ к данному боту будет доступен только Вам или ограниченному списку администраторов, нам необходимо явно указать Telegram ID людей допущеных к его использованию. 

Для получения своего Telegram ID, воспольуемся силами [MyID bot](https://t.me/myidbot)
![](/static/bot_myid.jpg)
Запускаем бота и выполняем команду `/getid`
![](/static/bot_myid_get.jpg)
На выходе мы получаем сообшение, содержащее в себе наш ID.

Запишем это значение и перейдем к дальнейшей настройке.

## Настройка .env

Теперь нам нужно указать все эти данные в Marzban, для этого нам нужно задать соотвествующие переменные в файле `.env` раскоментировав их или добавив в конец файла, присвоив им значения полученные ранее.
```bash
nano /opt/marzban/.env
```


| Переменная | Значение | 
| ---------- | ------------ | 
| TELEGRAM_API_TOKEN  | **обязательно** API токен полученный в BotFather | 
| TELEGRAM_ADMIN_ID | **обязательно** ID администратора, если нужно дать доступ нескольким администраторам, укажите их ID через запятую   | 
| TELEGRAM_LOGGER_CHANNEL_ID | **не обязательно** Канал под логи   | 
| TELEGRAM_DEFAULT_VLESS_FLOW| **не обязательно** Стандартное значение потока VLESS , выставляемое пользователю при его создании чере бота    | 
| TELEGRAM_PROXY_URL | **не обязательно** Адрес ТГ прокси   | 

После, для того что бы изменения вступили в силу, необходимо перезапустить Marzban
```bash
marzban restart
```
## Запуск
После перезапуска Marzban Вы сможете перейти в ранее созданный Вами бот, и начать его использование.

![](/static/bot_main.jpg)