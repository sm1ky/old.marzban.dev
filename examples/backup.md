# Бэкап данных

Необходимо  регулярно создавать резервные копии ваших файлов Marzban, чтобы предотвратить потерю данных в случае сбоев системы или случайного удаления.

## Бекап вручную  <a href="#mannualy" id="mannualy"></a>

По умолчанию все важные файлы Marzban сохраняются в папке `/var/lib/marzban`

Скопируйте всю папку `/var/lib/marzban` в место для резервного копирования по вашему выбору, например на внешний жесткий диск или облачное хранилище.

Кроме того, убедитесь, что вы создаете резервные копии вашего файла `env`, который содержит вашу конфигурацию, а также файла конфигурации Xray.&#x20;

По умолчанию, `env` и другие конфигурации находятся внутри папки `/opt/marzban/`

## Автоматический бекап <a href="#auto" id="auto"></a>

С помощью стороннего скрипта вы можете создавать резервные копии важной информации, из marzban и отправлять ее в Telegram при помощи бота, чтобы она всегда была доступна!

Скачиваем скрипт на сервер и запускаем его

```bash
bash <(curl -Ls https://github.com/AC-Lover/backup/raw/main/backup.sh)
```

Введите токен вашего бота, который будет выполнять эту задачу,

{% hint style="info" %}
Токен бота вы можете получить в `@BotFather`
{% endhint %}

&#x20;затем введите идентификатор чата.&#x20;

{% hint style="info" %}
Чтобы получить идентификатор чата или канала, который вы выбрали для резервного копирования, вам нужно переслать сообщение от из канала на бота `@userinfobot`
{% endhint %}

На следующем шаге вам будет предложено ввести подпись, которую вы можете оставить пустой.

Затем вам будет предложено настроить cron-задачу, чтобы определить, когда робот будет создавать резервную копию и отправлять ее. Формат следующий: `0 1` Первое значение, равное `0`, - это минута, а второе значение, равное `1`, - это час. Минимальное значение для минуты - 0, максимальное - `60`. Минимальное значение для часа - `0`, максимальное - `24`. Введите 0 для обоих значений, чтобы создавать резервную копию каждую минуту. В приведенном выше примере резервная копия создается каждый час. Обратите внимание, что между обоими значениями должен быть пробел.

Следующий шаг попросит вас выбрать панель, которую вы хотите создать резервную копию. Вам нужно выбрать одну из marzbn, x-ui и hiddify. Значение `m` соответствует marzban,  Введите опцию `m`

Затем вам будет задан вопрос, хотите ли вы удалить ранее определенные cron-задачи или нет? Введите `y`, если вы хотите удалить их, в противном случае введите `n`.
