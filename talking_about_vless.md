---
order: 1003
label: Поговорим о VLESS
icon: mortar-board
---
{% hint style="warning" %}
Статья находится в режиме написания. Со временем будет дополняться и изменяться. 
{% endhint %}
## Определение
**VLESS** - это легкий транспортный протокол, без сохранения состояния, который разделен на входящую и исходящую части и может использоваться в качестве моста между клиентом и сервером Xray.

В отличие от VMess, VLESS не зависит от системного времени.

Метод аутентификации основан на UUID

## Запрос и ответ
**VLESS** имеет следующую структуру запроса

|  1 байт           | 16 байт        | 1 байт                          | M байт                         | 1 байт      | 2 байта | 1 байт       | S байт | X байт      |
| ---------------- | --------------- | ------------------------------- | ------------------------------- | ----------- | ------- | ------------ | ------- | ------------ |
| Версия протокола | Соответствующий UUID | Длина дополнительной информации M | Дополнительная информация в ProtoBuf | Инструкции | Порт    | Тип адреса | Адресс | Запрос |

**VLESS** имеет следующую структуру ответа

| 1 байт                                        | 1 байт                             | N байт                            | Y байт       |
| --------------------------------------------- | ---------------------------------- | ---------------------------------- | ------------- |
| Версия протокола, соответствующая запросу | Длина дополнительной информации N | Дополнительная информация в ProtoBuf | Ответ |
##  Режим передачи
**VLESS** поддерживает множество режимов передачи: TCP, gPRC, H2, quic, WebSocket, mKCP.
Но так как XTLS, о котором мы поговорим немногим позже, в настоящее время поддерживает только TCP, то для нас,TCP, является единственно рекомендуемым, в настоящее время, режимом передачи
## Cтруктура файла конфигурации
## 
## 
## 


Кроме того, XTLS в настоящее время поддерживает только три метода передачи: TCP, mKCP и DomainSocket.
В настоящее время у VLESS нет встроенного шифрования, поэтому его необходимо использовать совместно с TLS.

## XTLS

### Основная концепция XTLS:
* XTLS разработан для того, чтобы скрывать прокси-трафик, делая его похожим на обычный интернет-трафик. Это достигается за счёт использования настоящего TLS (Transport Layer Security) - стандарта криптографической безопасности для интернет-соединений.
Как это работает:
* В традиционных TLS прокси-протоколах, например, в оригинальной версии Trojan, клиентская сторона устанавливает зашифрованное соединение с прокси-сервером, а затем прокси-сервер устанавливает отдельное зашифрованное соединение с целевым сервером (например, с веб-сайтом Google). Это приводит к двойному шифрованию данных, что может быть заметно для анализа трафика.
* В отличие от этого, XTLS стремится использовать одно TLS-соединение для всего пути от клиента к целевому серверу. Это означает, что данные шифруются только один раз, и прокси-сервер действует скорее как прозрачный посредник, не внося изменений в зашифрованный трафик.
### Преимущества:
* Благодаря такому подходу, XTLS делает прокси-трафик менее уязвимым к обнаружению. Поскольку трафик выглядит как обычный зашифрованный интернет-трафик, он не вызывает подозрений у систем фильтрации и мониторинга.
* Это особенно важно в условиях строгой интернет-цензуры, где обычные методы обхода блокировок могут быть легко обнаружены и заблокированы.
### Контекст использования:
* XTLS наиболее эффективен в сценариях, где необходимо обеспечить конфиденциальность и незаметность прокси-трафика, например, для обхода географических ограничений или цензуры в интернете.

Эта концепция является ключевой для понимания работы XTLS и её отличий от других прокси-протоколов, основанных на TLS.
# 

**Как работает XTLS:**
- В традиционных TLS прокси-протоколах, таких как оригинальный Trojan, процесс установления соединения между клиентом и сервером включает в себя два отдельных TLS-соединения: одно между клиентом и прокси-сервером, а другое между прокси-сервером и целевым сервером. Это приводит к двойному шифрованию данных.

- XTLS изменяет этот подход. Вместо создания двух отдельных TLS-соединений, XTLS использует одно единое TLS-соединение от клиента к целевому серверу через прокси. Это означает, что данные шифруются только один раз, и прокси-сервер действует как прозрачный мост, не внося изменений в зашифрованный трафик.

**Процесс работы XTLS:**
- Когда клиент (например, веб-браузер) начинает TLS-соединение с целевым сервером (например, Google), он отправляет запрос через прокси-сервер.
- Вместо того чтобы устанавливать отдельное TLS-соединение с прокси-сервером, XTLS позволяет этому запросу проходить напрямую к целевому серверу, сохраняя исходное шифрование.
- Важным элементом здесь является вставка специального идентификатора (UUID) в первый пакет данных, который проходит через прокси. Этот UUID сообщает прокси-серверу, что последующие данные должны передаваться без дополнительного шифрования или изменений.

**Преимущества такого подхода:**
- Уменьшение заметности: Поскольку трафик между клиентом и целевым сервером шифруется только один раз, он выглядит как обычный TLS-трафик, что затрудняет его обнаружение системами мониторинга.
- Улучшенная производительность: Избегание двойного шифрования снижает нагрузку как на клиентские устройства, так и на прокси-серверы, улучшая общую производительность соединения.

Этот механизм делает XTLS особенно подходящим для использования в условиях, где важна скрытность и эффективность прокси-соединений, например, для обхода цензуры или географических ограничений в интернете.

